/**
 * ZZIK Design System - Adapted from Linear App 2025
 * 
 * Brand Colors: Orange (#FF6B35) + Navy (#004E89) + Green (#00D9A3)
 * - OKLCH Color System (Perceptual Uniformity)
 * - CJK Font Support (Pretendard KR, Noto Sans SC)
 * - 4px Base Unit Spacing (Linear's System)
 * - Multi-layer Shadow Depth (6 Elevations)
 * - Spring-based Animation Timing
 * - Dark Mode Support
 * - Mobile-specific Tokens (Tab Bar, Map, Video)
 * 
 * Last Updated: 2025-11-11
 */

@import url('https://rsms.me/inter/inter.css');
@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css');
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;600;700&display=swap');

/* ============================================
   FOUNDATIONAL TOKENS
   ============================================ */

:root {
  /* ==================== COLOR PRIMITIVES ==================== */
  /* OKLCH Color Space - Perceptual Uniformity */
  
  /* Neutral Grays (L: 0-100, C: 0-0.05, H: 240) */
  --color-gray-0: oklch(100% 0 240);      /* Pure White */
  --color-gray-50: oklch(98% 0.002 240);   /* Lightest Gray */
  --color-gray-100: oklch(96% 0.004 240);
  --color-gray-200: oklch(92% 0.008 240);
  --color-gray-300: oklch(85% 0.012 240);
  --color-gray-400: oklch(70% 0.015 240);
  --color-gray-500: oklch(55% 0.018 240);  /* Mid Gray */
  --color-gray-600: oklch(45% 0.015 240);
  --color-gray-700: oklch(32% 0.012 240);
  --color-gray-800: oklch(20% 0.008 240);
  --color-gray-900: oklch(12% 0.004 240);
  --color-gray-950: oklch(8% 0.002 240);
  --color-gray-1000: oklch(0% 0 240);     /* Pure Black */

  /* Brand Primary - Orange (#FF6B35) - Action, Rewards, Energy */
  --color-primary-50: oklch(97% 0.03 35);
  --color-primary-100: oklch(93% 0.07 35);
  --color-primary-200: oklch(87% 0.12 35);
  --color-primary-300: oklch(78% 0.16 35);
  --color-primary-400: oklch(70% 0.19 35);
  --color-primary-500: oklch(65% 0.20 35);  /* Main Brand - #FF6B35 */
  --color-primary-600: oklch(58% 0.19 35);
  --color-primary-700: oklch(48% 0.16 35);
  --color-primary-800: oklch(38% 0.12 35);
  --color-primary-900: oklch(28% 0.08 35);

  /* Brand Secondary - Navy (#004E89) - Trust, B2B, Professionalism */
  --color-secondary-50: oklch(96% 0.02 245);
  --color-secondary-100: oklch(92% 0.04 245);
  --color-secondary-200: oklch(84% 0.07 245);
  --color-secondary-300: oklch(72% 0.10 245);
  --color-secondary-400: oklch(58% 0.12 245);
  --color-secondary-500: oklch(48% 0.13 245);  /* Main Navy - #004E89 */
  --color-secondary-600: oklch(40% 0.12 245);
  --color-secondary-700: oklch(32% 0.10 245);
  --color-secondary-800: oklch(24% 0.07 245);
  --color-secondary-900: oklch(16% 0.04 245);

  /* Accent - Green (#00D9A3) - Success, Money, Achievement */
  --color-accent-50: oklch(96% 0.03 165);
  --color-accent-100: oklch(92% 0.07 165);
  --color-accent-200: oklch(86% 0.11 165);
  --color-accent-300: oklch(80% 0.13 165);
  --color-accent-400: oklch(72% 0.14 165);
  --color-accent-500: oklch(75% 0.15 165);   /* Main Accent - #00D9A3 */
  --color-accent-600: oklch(65% 0.14 165);
  --color-accent-700: oklch(55% 0.12 165);
  --color-accent-800: oklch(45% 0.09 165);
  --color-accent-900: oklch(35% 0.06 165);

  /* Semantic Colors */
  --color-success-500: oklch(65% 0.20 145);  /* Green */
  --color-warning-500: oklch(70% 0.18 80);   /* Yellow */
  --color-error-500: oklch(60% 0.22 30);     /* Red */
  --color-info-500: oklch(60% 0.20 230);     /* Cyan */

  /* ==================== LIGHT MODE SEMANTIC TOKENS ==================== */
  
  /* Backgrounds */
  --bg-base: var(--color-gray-0);             /* #FFFFFF */
  --bg-surface: var(--color-gray-50);         /* Cards, Panels */
  --bg-surface-raised: var(--color-gray-0);   /* Elevated Cards */
  --bg-overlay: var(--color-gray-100);        /* Modals, Popovers */
  --bg-hover: var(--color-gray-100);          /* Hover States */
  --bg-active: var(--color-gray-200);         /* Active/Pressed */
  --bg-selected: var(--color-primary-50);     /* Selected Items */
  
  /* Text Colors */
  --text-primary: var(--color-gray-950);      /* Main Text */
  --text-secondary: var(--color-gray-600);    /* Secondary Text */
  --text-tertiary: var(--color-gray-500);     /* Placeholder, Disabled */
  --text-inverse: var(--color-gray-0);        /* On Dark BG */
  --text-link: var(--color-accent-600);       /* Links */
  --text-link-hover: var(--color-accent-700); /* Links Hover */
  
  /* Borders */
  --border-default: var(--color-gray-200);    /* Standard Borders */
  --border-hover: var(--color-gray-300);      /* Hover Borders */
  --border-focus: var(--color-accent-500);    /* Focus Ring */
  --border-error: var(--color-error-500);     /* Error State */
  
  /* Interactive Elements */
  --interactive-default: var(--color-primary-500);
  --interactive-hover: var(--color-primary-600);
  --interactive-active: var(--color-primary-700);
  --interactive-disabled: var(--color-gray-300);

  /* ==================== TYPOGRAPHY ==================== */
  
  /* Font Families */
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-sans-ko: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', sans-serif;
  --font-sans-zh: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, 'PingFang SC', 'Microsoft YaHei', sans-serif;
  --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Courier New', monospace;
  
  /* Font Sizes (Type Scale - 1.125 ratio) */
  --text-xs: 0.75rem;      /* 12px */
  --text-sm: 0.875rem;     /* 14px */
  --text-base: 1rem;       /* 16px - Body */
  --text-lg: 1.125rem;     /* 18px */
  --text-xl: 1.25rem;      /* 20px */
  --text-2xl: 1.5rem;      /* 24px */
  --text-3xl: 1.875rem;    /* 30px */
  --text-4xl: 2.25rem;     /* 36px */
  --text-5xl: 3rem;        /* 48px */
  
  /* Font Weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
  
  /* Line Heights */
  --leading-tight: 1.2;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 1.75;
  
  /* Letter Spacing */
  --tracking-tighter: -0.05em;
  --tracking-tight: -0.025em;
  --tracking-normal: 0;
  --tracking-wide: 0.025em;

  /* ==================== SPACING (4px Base Unit) ==================== */
  
  --space-0: 0;
  --space-1: 0.25rem;   /* 4px */
  --space-2: 0.5rem;    /* 8px */
  --space-3: 0.75rem;   /* 12px */
  --space-4: 1rem;      /* 16px */
  --space-5: 1.25rem;   /* 20px */
  --space-6: 1.5rem;    /* 24px */
  --space-8: 2rem;      /* 32px */
  --space-10: 2.5rem;   /* 40px */
  --space-12: 3rem;     /* 48px */
  --space-16: 4rem;     /* 64px */
  --space-20: 5rem;     /* 80px */
  --space-24: 6rem;     /* 96px */
  --space-32: 8rem;     /* 128px */

  /* ==================== BORDER RADIUS ==================== */
  
  --radius-none: 0;
  --radius-sm: 0.25rem;    /* 4px */
  --radius-base: 0.375rem; /* 6px - Linear's Default */
  --radius-md: 0.5rem;     /* 8px */
  --radius-lg: 0.75rem;    /* 12px */
  --radius-xl: 1rem;       /* 16px */
  --radius-2xl: 1.5rem;    /* 24px */
  --radius-full: 9999px;   /* Pill Shape */

  /* ==================== SHADOWS (Multi-layer Depth) ==================== */
  
  /* Shadow Colors with Opacity */
  --shadow-color-base: 0 0 0;              /* RGB for oklch(0% 0 240) */
  --shadow-color-subtle: 220 220 230;      /* Slight tint */
  
  /* Elevation Levels (6 Layers) */
  --shadow-xs: 
    0 1px 2px rgb(var(--shadow-color-base) / 0.04);
  
  --shadow-sm: 
    0 1px 3px rgb(var(--shadow-color-base) / 0.08),
    0 1px 2px rgb(var(--shadow-color-base) / 0.04);
  
  --shadow-base: 
    0 2px 4px rgb(var(--shadow-color-base) / 0.08),
    0 1px 2px rgb(var(--shadow-color-base) / 0.04);
  
  --shadow-md: 
    0 4px 6px rgb(var(--shadow-color-base) / 0.08),
    0 2px 4px rgb(var(--shadow-color-base) / 0.04),
    0 1px 2px rgb(var(--shadow-color-base) / 0.02);
  
  --shadow-lg: 
    0 10px 15px rgb(var(--shadow-color-base) / 0.10),
    0 4px 6px rgb(var(--shadow-color-base) / 0.06),
    0 2px 4px rgb(var(--shadow-color-base) / 0.03);
  
  --shadow-xl: 
    0 20px 25px rgb(var(--shadow-color-base) / 0.12),
    0 10px 10px rgb(var(--shadow-color-base) / 0.06),
    0 4px 6px rgb(var(--shadow-color-base) / 0.04);
  
  --shadow-2xl: 
    0 25px 50px rgb(var(--shadow-color-base) / 0.15),
    0 15px 20px rgb(var(--shadow-color-base) / 0.08),
    0 5px 10px rgb(var(--shadow-color-base) / 0.05);

  /* Focus Ring (Accessibility) */
  --shadow-focus: 
    0 0 0 3px var(--color-accent-200),
    0 0 0 1px var(--color-accent-500);

  /* ==================== Z-INDEX HIERARCHY ==================== */
  
  --z-base: 0;
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;
  --z-toast: 1080;

  /* ==================== ANIMATION TIMING ==================== */
  
  /* Duration */
  --duration-instant: 0ms;
  --duration-fast: 150ms;
  --duration-base: 250ms;
  --duration-slow: 350ms;
  --duration-slower: 500ms;
  
  /* Easing (Spring-based) */
  --ease-linear: cubic-bezier(0, 0, 1, 1);
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);  /* Linear's bounce */
  
  /* ==================== LAYOUT ==================== */
  
  /* Container Max Widths */
  --container-xs: 20rem;    /* 320px */
  --container-sm: 24rem;    /* 384px */
  --container-md: 28rem;    /* 448px */
  --container-lg: 32rem;    /* 512px */
  --container-xl: 36rem;    /* 576px */
  --container-2xl: 42rem;   /* 672px */
  --container-3xl: 48rem;   /* 768px */
  --container-4xl: 56rem;   /* 896px */
  --container-5xl: 64rem;   /* 1024px */
  --container-6xl: 72rem;   /* 1152px */
  --container-7xl: 80rem;   /* 1280px */
  
  /* Breakpoints (for reference in JS) */
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;

  /* ==================== MOBILE-SPECIFIC TOKENS ==================== */
  
  /* Tab Bar (5-tab navigation) */
  --tab-bar-height: 56px;           /* iOS standard */
  --tab-icon-size: 24px;
  --tab-spacing: var(--space-2);    /* 8px */
  
  /* Map (Mapbox GL) */
  --map-marker-size: 40px;          /* Voucher markers */
  --map-radius-pulse: 100px;        /* GPS discovery radius */
  --map-cluster-size: 48px;         /* Marker clusters */
  
  /* Video (Reels) */
  --video-aspect-ratio: 0.5625;     /* 9:16 vertical (9/16) */
  --video-controls-inset: var(--space-6);  /* 24px safe area */
  
  /* Cards */
  --card-reel-height: calc(100vh - 56px);  /* Full screen - tab bar */
  --card-voucher-radius: var(--radius-xl);  /* 16px */
}

/* ============================================
   DARK MODE TOKENS
   ============================================ */

@media (prefers-color-scheme: dark) {
  :root {
    /* Backgrounds */
    --bg-base: var(--color-gray-950);           /* #0A0A0A */
    --bg-surface: var(--color-gray-900);        /* Cards */
    --bg-surface-raised: oklch(10% 0.002 240); /* Elevated */
    --bg-overlay: var(--color-gray-800);        /* Modals */
    --bg-hover: var(--color-gray-800);          /* Hover */
    --bg-active: var(--color-gray-700);         /* Active */
    --bg-selected: oklch(20% 0.03 35);         /* Orange tint */
    
    /* Text Colors */
    --text-primary: var(--color-gray-50);       /* Main Text */
    --text-secondary: var(--color-gray-400);    /* Secondary */
    --text-tertiary: var(--color-gray-500);     /* Disabled */
    --text-inverse: var(--color-gray-950);      /* On Light BG */
    --text-link: var(--color-accent-400);       /* Links */
    --text-link-hover: var(--color-accent-300); /* Links Hover */
    
    /* Borders */
    --border-default: var(--color-gray-800);    /* Standard */
    --border-hover: var(--color-gray-700);      /* Hover */
    --border-focus: var(--color-accent-500);    /* Focus */
    --border-error: var(--color-error-500);     /* Error */
    
    /* Interactive Elements */
    --interactive-default: var(--color-primary-400);
    --interactive-hover: var(--color-primary-300);
    --interactive-active: var(--color-primary-200);
    --interactive-disabled: var(--color-gray-700);
    
    /* Shadows (Darker, more pronounced) */
    --shadow-color-base: 0 0 0;
    --shadow-xs: 0 1px 2px rgb(0 0 0 / 0.3);
    --shadow-sm: 0 1px 3px rgb(0 0 0 / 0.4), 0 1px 2px rgb(0 0 0 / 0.3);
    --shadow-base: 0 2px 4px rgb(0 0 0 / 0.4), 0 1px 2px rgb(0 0 0 / 0.3);
    --shadow-md: 0 4px 6px rgb(0 0 0 / 0.5), 0 2px 4px rgb(0 0 0 / 0.4);
    --shadow-lg: 0 10px 15px rgb(0 0 0 / 0.6), 0 4px 6px rgb(0 0 0 / 0.5);
    --shadow-xl: 0 20px 25px rgb(0 0 0 / 0.7), 0 10px 10px rgb(0 0 0 / 0.6);
    --shadow-2xl: 0 25px 50px rgb(0 0 0 / 0.8), 0 15px 20px rgb(0 0 0 / 0.7);
  }
}

/* Force dark mode class (for manual toggle) */
.dark {
  color-scheme: dark;
  
  --bg-base: var(--color-gray-950);
  --bg-surface: var(--color-gray-900);
  --bg-surface-raised: oklch(10% 0.002 240);
  --bg-overlay: var(--color-gray-800);
  --bg-hover: var(--color-gray-800);
  --bg-active: var(--color-gray-700);
  --bg-selected: oklch(20% 0.03 35);
  
  --text-primary: var(--color-gray-50);
  --text-secondary: var(--color-gray-400);
  --text-tertiary: var(--color-gray-500);
  --text-inverse: var(--color-gray-950);
  --text-link: var(--color-accent-400);
  --text-link-hover: var(--color-accent-300);
  
  --border-default: var(--color-gray-800);
  --border-hover: var(--color-gray-700);
  --border-focus: var(--color-accent-500);
  --border-error: var(--color-error-500);
  
  --interactive-default: var(--color-primary-400);
  --interactive-hover: var(--color-primary-300);
  --interactive-active: var(--color-primary-200);
  --interactive-disabled: var(--color-gray-700);
}

/* ============================================
   BASE STYLES
   ============================================ */

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1;
  font-variant-ligatures: common-ligatures;
}

body {
  font-family: var(--font-sans);
  font-size: var(--text-base);
  font-weight: var(--font-normal);
  line-height: var(--leading-normal);
  color: var(--text-primary);
  background-color: var(--bg-base);
  transition: background-color var(--duration-base) var(--ease-out),
              color var(--duration-base) var(--ease-out);
}

/* Inter Variable Font Features */
@supports (font-variation-settings: normal) {
  body {
    font-family: 'Inter var', var(--font-sans);
  }
}

/* ============================================
   UTILITY CLASSES (Linear-style)
   ============================================ */

/* Text Utilities */
.text-primary { color: var(--text-primary); }
.text-secondary { color: var(--text-secondary); }
.text-tertiary { color: var(--text-tertiary); }

/* Background Utilities */
.bg-base { background-color: var(--bg-base); }
.bg-surface { background-color: var(--bg-surface); }
.bg-surface-raised { background-color: var(--bg-surface-raised); }

/* Border Utilities */
.border-default { border-color: var(--border-default); }

/* Shadow Utilities */
.shadow-xs { box-shadow: var(--shadow-xs); }
.shadow-sm { box-shadow: var(--shadow-sm); }
.shadow-base { box-shadow: var(--shadow-base); }
.shadow-md { box-shadow: var(--shadow-md); }
.shadow-lg { box-shadow: var(--shadow-lg); }

/* Transition Utilities */
.transition-base {
  transition-duration: var(--duration-base);
  transition-timing-function: var(--ease-in-out);
}

.transition-fast {
  transition-duration: var(--duration-fast);
  transition-timing-function: var(--ease-out);
}

/* Focus Ring (Accessibility) */
.focus-ring:focus-visible {
  outline: none;
  box-shadow: var(--shadow-focus);
}

/* ============================================
   RESPONSIVE TYPOGRAPHY
   ============================================ */

@media (max-width: 640px) {
  :root {
    --text-4xl: 2rem;     /* 32px on mobile */
    --text-5xl: 2.5rem;   /* 40px on mobile */
  }
}

/* ============================================
   LANGUAGE-SPECIFIC FONTS
   ============================================ */

/* Korean pages */
:lang(ko) {
  font-family: var(--font-sans-ko);
}

/* Chinese pages */
:lang(zh) {
  font-family: var(--font-sans-zh);
}

/* Explicit language classes (for mixed content) */
.lang-ko {
  font-family: var(--font-sans-ko);
}

.lang-zh {
  font-family: var(--font-sans-zh);
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
  body {
    background: white;
    color: black;
  }
  
  .shadow-xs, .shadow-sm, .shadow-base,
  .shadow-md, .shadow-lg, .shadow-xl,
  .shadow-2xl {
    box-shadow: none;
  }
}
